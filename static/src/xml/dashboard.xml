<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="lms.Dashboard" owl="1">
        <div class="lms-dashboard-container">

            <!-- Sidebar -->
            <aside class="lms-sidebar">
                <div class="lms-logo">🚚 Logistics Management</div>

                <ul class="lms-menu">
                    <!-- Lead -->
                    <li t-on-click="() => setActiveSection('lead')" t-att-class="{'active': state.tab === 'lead'}">
                        Lead Management
                    </li>

                    <!-- Warehouse -->
                    <li t-on-click="() => setActiveSection('warehouse')" t-att-class="{'active': state.tab === 'warehouse'}">
                        Warehouse Management
                    </li>

                    <!-- Dispatch Management -->
                    <li>
                        <div t-on-click="() => toggleSubMenu('dispatch')" class="menu-header">
                            <span>Dispatch Management</span>
                            <span class="arrow" t-esc="state.expanded.dispatch ? '▾' : '▸'"/>
                        </div>
                        <ul t-if="state.expanded.dispatch" class="submenu">
                            <li t-on-click="() => setActiveSection('trip_sheet')">Trip Sheet</li>
                            <li t-on-click="() => setActiveSection('route_dispatch')">Route Dispatch</li>
                            <li t-on-click="() => setActiveSection('lr')">Lorry Receipt (LR)</li>
                            <li t-on-click="() => setActiveSection('pod')">Proof of Delivery (POD)</li>
                            <li t-on-click="() => setActiveSection('ewaybill')">E-Way Bill</li>
                            <li t-on-click="() => setActiveSection('dispatch_reports')">Dispatch Reports</li>
                        </ul>
                    </li>

                    <!-- Logistics Operations -->
                    <li>
                        <div t-on-click="() => toggleSubMenu('operations')" class="menu-header">
                            <span>Logistics Operations</span>
                            <span class="arrow" t-esc="state.expanded.operations ? '▾' : '▸'"/>
                        </div>
                        <ul t-if="state.expanded.operations" class="submenu">
                            <li t-on-click="() => setActiveSection('fleet_overview')">Fleet Overview</li>
                            <li t-on-click="() => setActiveSection('vehicle_costs')">Vehicle Costs</li>
                            <li t-on-click="() => setActiveSection('odoometer')">Odometer</li>
                            <li t-on-click="() => setActiveSection('route_optimization')">Route Optimization</li>
                            <li t-on-click="() => setActiveSection('fleet_reports')">Fleet Reports</li>
                        </ul>
                    </li>

                    <!-- Finance and Accounting -->
                    <li>
                        <div t-on-click="() => toggleSubMenu('finance')" class="menu-header">
                            <span>Finance &amp; Accounting</span>
                            <span class="arrow" t-esc="state.expanded.finance ? '▾' : '▸'"/>
                        </div>
                        <ul t-if="state.expanded.finance" class="submenu">
                            <li t-on-click="() => setActiveSection('finance_overview')">Overview</li>
                            <li t-on-click="() => setActiveSection('customer_invoices')">Customer Invoices</li>
                            <li t-on-click="() => setActiveSection('customer_credit_notes')">Customer Credit Notes</li>
                            <li t-on-click="() => setActiveSection('customer_payments')">Customer Payments</li>
                            <li t-on-click="() => setActiveSection('accounting_journals')">Accounting Journals</li>
                            <li t-on-click="() => setActiveSection('accounting_journals_entries')">Journal Entries</li>
                            <li t-on-click="() => setActiveSection('vendor_payments')">Bills</li>
                        </ul>
                    </li>

                    <!-- RFQ -->
                    <li t-on-click="() => setActiveSection('rfq')" t-att-class="{'active': state.tab === 'rfq'}">
                        RFP/RFQ
                    </li>

                    <!-- Reporting -->
                    <li>
                        <div t-on-click="() => toggleSubMenu('reporting')" class="menu-header">
                            <span>Reporting</span>
                            <span class="arrow" t-esc="state.expanded.reporting ? '▾' : '▸'"/>
                        </div>
                        <ul t-if="state.expanded.reporting" class="submenu">
                            <!-- Sales Reporting -->
                            <li>
                                <div t-on-click="() => toggleSubMenu('sales_reporting')" class="menu-header submenu-header">
                                    <span>Sales</span>
                                    <span class="arrow" t-esc="state.expanded.sales_reporting ? '▾' : '▸'"/>
                                </div>
                                <ul t-if="state.expanded.sales_reporting" class="submenu nested">
                                    <li t-on-click="() => setActiveSection('sales')">Lead Sales</li>
                                    <li t-on-click="() => setActiveSection('sales_persons')">Sales Persons</li>
                                    <li t-on-click="() => setActiveSection('sales_products')">Products</li>
                                </ul>
                            </li>

                            <!-- Inventory/Warehouse Reporting -->
                            <li>
                                <div t-on-click="() => toggleSubMenu('inventory_warehouse_reporting')" class="menu-header submenu-header">
                                    <span>Inventory &amp; Warehouse</span>
                                    <span class="arrow" t-esc="state.expanded.inventory_warehouse_reporting ? '▾' : '▸'"/>
                                </div>
                                <ul t-if="state.expanded.inventory_warehouse_reporting" class="submenu nested">
                                    <li t-on-click="() => setActiveSection('overview')">Overview</li>
                                    <li t-on-click="() => setActiveSection('warehouse_analysis')">Warehouse Analysis</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </aside>

            <!-- Main Content -->
            <main class="lms-main">
                <!-- Dashboard View -->
                <t t-if="state.tab === 'dashboard'">
                    <div class="dashboard-content">
                        <div class="dashboard-header">
                            <h1>Logistics Management Dashboard</h1>
                            <p class="dashboard-subtitle">Real-time overview of your logistics operations</p>
                        </div>

                        <!-- Stats Grid -->
                        <div class="stats-grid">
                            <div class="stat-card stat-primary">
                                <div class="stat-icon">📦</div>
                                <div class="stat-content">
                                    <div class="stat-value">1,247</div>
                                    <div class="stat-label">Active Shipments</div>
                                    <div class="stat-change positive">↑ 12% from last month</div>
                                </div>
                            </div>

                            <div class="stat-card stat-success">
                                <div class="stat-icon">🚚</div>
                                <div class="stat-content">
                                    <div class="stat-value">89</div>
                                    <div class="stat-label">Fleet Vehicles</div>
                                    <div class="stat-change positive">↑ 5% utilization</div>
                                </div>
                            </div>

                            <div class="stat-card stat-warning">
                                <div class="stat-icon">📊</div>
                                <div class="stat-content">
                                    <div class="stat-value">$2.4M</div>
                                    <div class="stat-label">Monthly Revenue</div>
                                    <div class="stat-change positive">↑ 18% from last month</div>
                                </div>
                            </div>

                            <div class="stat-card stat-info">
                                <div class="stat-icon">👥</div>
                                <div class="stat-content">
                                    <div class="stat-value">342</div>
                                    <div class="stat-label">Active Customers</div>
                                    <div class="stat-change positive">↑ 23 new this week</div>
                                </div>
                            </div>
                        </div>

                        <!-- Charts Row -->
                        <div class="charts-row">
                            <div class="chart-card">
                                <div class="chart-header">
                                    <h3>Shipment Trends</h3>
                                    <select class="chart-filter">
                                        <option>Last 7 Days</option>
                                        <option>Last 30 Days</option>
                                        <option>Last 90 Days</option>
                                    </select>
                                </div>
                                <div class="chart-placeholder">
                                    <svg viewBox="0 0 400 200" class="trend-chart">
                                        <polyline points="10,180 50,160 90,140 130,120 170,100 210,90 250,70 290,60 330,50 370,40" 
                                                  stroke="#3b82f6" stroke-width="3" fill="none"/>
                                        <polyline points="10,180 50,160 90,140 130,120 170,100 210,90 250,70 290,60 330,50 370,40 370,200 10,200" 
                                                  fill="url(#gradient)" opacity="0.3"/>
                                        <defs>
                                            <linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                                <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0.8" />
                                                <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0" />
                                            </linearGradient>
                                        </defs>
                                    </svg>
                                </div>
                            </div>

                            <div class="chart-card">
                                <div class="chart-header">
                                    <h3>Fleet Performance</h3>
                                    <select class="chart-filter">
                                        <option>This Month</option>
                                        <option>Last Month</option>
                                        <option>This Quarter</option>
                                    </select>
                                </div>
                                <div class="chart-placeholder">
                                    <div class="donut-chart">
                                        <svg viewBox="0 0 200 200">
                                            <circle cx="100" cy="100" r="80" fill="none" stroke="#e2e8f0" stroke-width="30"/>
                                            <circle cx="100" cy="100" r="80" fill="none" stroke="#10b981" stroke-width="30"
                                                    stroke-dasharray="377" stroke-dashoffset="94" transform="rotate(-90 100 100)"/>
                                            <circle cx="100" cy="100" r="80" fill="none" stroke="#f59e0b" stroke-width="30"
                                                    stroke-dasharray="377" stroke-dashoffset="283" transform="rotate(-90 100 100)"/>
                                        </svg>
                                        <div class="donut-center">
                                            <div class="donut-value">85%</div>
                                            <div class="donut-label">Active</div>
                                        </div>
                                    </div>
                                    <div class="donut-legend">
                                        <div class="legend-item"><span class="legend-dot" style="background:#10b981;"></span> Active (75%)</div>
                                        <div class="legend-item"><span class="legend-dot" style="background:#f59e0b;"></span> Maintenance (10%)</div>
                                        <div class="legend-item"><span class="legend-dot" style="background:#e2e8f0;"></span> Idle (15%)</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Activity and Alerts -->
                        <div class="bottom-row">
                            <div class="activity-card">
                                <div class="card-header">
                                    <h3>Recent Activity</h3>
                                    <a href="#" class="view-all">View All →</a>
                                </div>
                                <div class="activity-list">
                                    <div class="activity-item">
                                        <div class="activity-icon">📦</div>
                                        <div class="activity-content">
                                            <div class="activity-title">New shipment created</div>
                                            <div class="activity-time">2 minutes ago</div>
                                        </div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-icon">🚚</div>
                                        <div class="activity-content">
                                            <div class="activity-title">Vehicle TRK-089 completed delivery</div>
                                            <div class="activity-time">15 minutes ago</div>
                                        </div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-icon">💰</div>
                                        <div class="activity-content">
                                            <div class="activity-title">Invoice #INV-2024-1247 paid</div>
                                            <div class="activity-time">1 hour ago</div>
                                        </div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-icon">🔧</div>
                                        <div class="activity-content">
                                            <div class="activity-title">Maintenance scheduled for TRK-045</div>
                                            <div class="activity-time">3 hours ago</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alerts-card">
                                <div class="card-header">
                                    <h3>Alerts &amp; Notifications</h3>
                                    <span class="alert-badge">3</span>
                                </div>
                                <div class="alerts-list">
                                    <div class="alert-item alert-warning">
                                        <div class="alert-icon">⚠️</div>
                                        <div class="alert-content">
                                            <div class="alert-title">5 vehicles due for maintenance</div>
                                            <div class="alert-time">Action required</div>
                                        </div>
                                    </div>
                                    <div class="alert-item alert-danger">
                                        <div class="alert-icon">🚨</div>
                                        <div class="alert-content">
                                            <div class="alert-title">2 delayed shipments</div>
                                            <div class="alert-time">Urgent attention needed</div>
                                        </div>
                                    </div>
                                    <div class="alert-item alert-info">
                                        <div class="alert-icon">📋</div>
                                        <div class="alert-content">
                                            <div class="alert-title">15 pending invoices</div>
                                            <div class="alert-time">Review required</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </t>

                <!-- Iframe View for other sections -->
                <t t-if="state.tab !== 'dashboard' and state.iframeSrc">
                    <div class="iframe-container">
                        <iframe t-key="state.iframeKey" t-att-src="state.iframeSrc" frameborder="0"/>
                    </div>
                </t>

                <!-- Welcome Message -->
                <t t-if="state.tab !== 'dashboard' and !state.iframeSrc">
                    <div class="welcome-container">
                        <p>👋 Welcome — Select a module from the sidebar to begin.</p>
                    </div>
                </t>
            </main>
        </div>
    </t>
</templates>
<!-- <?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="lms.Dashboard" owl="1">
        <div class="lms-dashboard-container">

            <!-- Sidebar -->
            <aside class="lms-sidebar">
                <div class="lms-logo">🚚 Logistics Management</div>

                <ul class="lms-menu">
                    <!-- Lead -->
                    <li t-on-click="() => setActiveSection('dashboard')" t-att-class="{'active': state.tab === 'lead'}">
                        Dashboard
                    </li>
                    <li t-on-click="() => setActiveSection('lead')" t-att-class="{'active': state.tab === 'lead'}">
                        Lead Management
                    </li>

                    <!-- Warehouse -->
                    <li t-on-click="() => setActiveSection('warehouse')" t-att-class="{'active': state.tab === 'warehouse'}">
                        Warehouse Management
                    </li>

                    <!-- Dispatch Management -->
                    <li>
                        <div t-on-click="() => toggleSubMenu('dispatch')" class="menu-header">
                            <span>Dispatch Management</span>
                            <span class="arrow" t-esc="state.expanded.dispatch ? '▾' : '▸'"/>
                        </div>
                        <ul t-if="state.expanded.dispatch" class="submenu">
                            <li t-on-click="() => setActiveSection('trip_sheet')">Trip Sheet</li>
                            <li t-on-click="() => setActiveSection('route_dispatch')">Route Dispatch</li>
                            <li t-on-click="() => setActiveSection('lr')">Lorry Receipt (LR)</li>
                            <li t-on-click="() => setActiveSection('pod')">Proof of Delivery (POD)</li>
                            <li t-on-click="() => setActiveSection('ewaybill')">E-Way Bill</li>
                            <li t-on-click="() => setActiveSection('dispatch_reports')">Dispatch Reports</li>
                        </ul>
                    </li>

                    <!-- Logistics Operations -->
                    <li>
                        <div t-on-click="() => toggleSubMenu('operations')" class="menu-header">
                            <span>Logistics Operations</span>
                            <span class="arrow" t-esc="state.expanded.operations ? '▾' : '▸'"/>
                        </div>
                        <ul t-if="state.expanded.operations" class="submenu">
                            <li t-on-click="() => setActiveSection('fleet_overview')">Fleet Overview</li>
                            <li t-on-click="() => setActiveSection('vehicle_costs')">Vehicle Costs</li>
                            <li t-on-click="() => setActiveSection('odoometer')">Odometer</li>
                            <li t-on-click="() => setActiveSection('route_optimization')">Route Optimization</li>
                            <li t-on-click="() => setActiveSection('fleet_reports')">Fleet Reports</li>
                        </ul>
                    </li>

                    <!-- Finance and Accounting -->
                    <li>
                        <div t-on-click="() => toggleSubMenu('finance')" class="menu-header">
                            <span>Finance &amp; Accounting</span>
                            <span class="arrow" t-esc="state.expanded.finance ? '▾' : '▸'"/>
                        </div>
                        <ul t-if="state.expanded.finance" class="submenu">
                            <li t-on-click="() => setActiveSection('finance_overview')">Overview</li>
                            <li t-on-click="() => setActiveSection('customer_invoices')">Customer Invoices</li>
                            <li t-on-click="() => setActiveSection('customer_credit_notes')">Customer Credit Notes</li>
                            <li t-on-click="() => setActiveSection('customer_payments')">Customer Payments</li>
                            <li t-on-click="() => setActiveSection('accounting_journals')">Accounting Journals</li>
                            <li t-on-click="() => setActiveSection('accounting_journals_entries')">Journal Entries</li>
                            <li t-on-click="() => setActiveSection('vendor_payments')">Bills</li>
                        </ul>
                    </li>

                    <!-- RFQ -->
                    <li t-on-click="() => setActiveSection('rfq')" t-att-class="{'active': state.tab === 'rfq'}">
                        RFP/RFQ
                    </li>

                    <!-- Reporting -->
                    <li>
                        <div t-on-click="() => toggleSubMenu('reporting')" class="menu-header">
                            <span>Reporting</span>
                            <span class="arrow" t-esc="state.expanded.reporting ? '▾' : '▸'"/>
                        </div>
                        <ul t-if="state.expanded.reporting" class="submenu">
                            <!-- Sales Reporting -->
                            <li>
                                <div t-on-click="() => toggleSubMenu('sales_reporting')" class="menu-header submenu-header">
                                    <span>Sales</span>
                                    <span class="arrow" t-esc="state.expanded.sales_reporting ? '▾' : '▸'"/>
                                </div>
                                <ul t-if="state.expanded.sales_reporting" class="submenu nested">
                                    <li t-on-click="() => setActiveSection('sales')">Lead Sales</li>
                                    <li t-on-click="() => setActiveSection('sales_persons')">Sales Persons</li>
                                    <li t-on-click="() => setActiveSection('sales_products')">Products</li>
                                </ul>
                            </li>

                            <!-- Inventory/Warehouse Reporting -->
                            <li>
                                <div t-on-click="() => toggleSubMenu('inventory_warehouse_reporting')" class="menu-header submenu-header">
                                    <span>Inventory &amp; Warehouse</span>
                                    <span class="arrow" t-esc="state.expanded.inventory_warehouse_reporting ? '▾' : '▸'"/>
                                </div>
                                <ul t-if="state.expanded.inventory_warehouse_reporting" class="submenu nested">
                                    <li t-on-click="() => setActiveSection('overview')">Overview</li>
                                    <li t-on-click="() => setActiveSection('warehouse_analysis')">Warehouse Analysis</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </aside>

            <!-- Main Content -->
            <main class="lms-main">
                <t t-if="state.iframeSrc">
                    <div class="iframe-container">
                        <iframe t-key="state.iframeKey" t-att-src="state.iframeSrc" frameborder="0"/>
                    </div>
                </t>
                <t t-if="!state.iframeSrc">
                    <div class="welcome-container">
                        <p>👋 Welcome — Select a module from the sidebar to begin.</p>
                    </div>
                </t>
            </main>
        </div>
    </t>
</templates> -->