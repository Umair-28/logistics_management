<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="lms.Dashboard" owl="1">
        <div class="lms-dashboard-container" style="display:flex; height:100vh;">

            <!-- Sidebar -->
            <aside class="lms-sidebar" style="width:270px; background:#1e293b; color:white; padding:1rem; overflow:auto;">
                <div class="lms-logo" style="font-weight:bold; margin-bottom:1rem;">ðŸšš Logistics Management</div>
                <ul class="lms-menu" style="list-style:none; padding:0;">

                    <!-- Lead -->
                    <li t-on-click="() => openIframeByType('lead')" class="menu-item">Lead Management</li>

                    <!-- Warehouse -->
                    <li t-on-click="() => openIframeByType('warehouse')" class="menu-item">Warehouse Management</li>

                    <!-- Logistics Operations Management -->
                    <li>
                        <div class="submenu-header" t-on-click="() => toggleSubmenu('operations')">
                            Logistics Operations Management <t t-esc="getArrow('operations')"/>
                        </div>

                        <ul t-if="state.openMenu === 'operations'" class="submenu" style="margin-left:1rem;">
                            <!-- Fleet Management -->
                            <li>
                                <div class="submenu-header" t-on-click="() => toggleSubmenu2('fleet')">
                                    Fleet Management <t t-esc="getArrow('fleet', 2)"/>
                                </div>
                                <ul t-if="state.openSubMenu === 'fleet'" class="submenu" style="margin-left:1rem;">
                                    <li t-on-click="() => openIframeByType('fleet_vehicles')">Vehicles</li>
                                    <li t-on-click="() => openIframeByType('fleet_drivers')">Drivers</li>
                                    <li t-on-click="() => openIframeByType('fleet_costs')">Vehicle Costs</li>
                                    <li t-on-click="() => openIframeByType('fleet_fuel')">Fuel Logs</li>
                                    <li t-on-click="() => openIframeByType('fleet_maintenance')">Maintenance</li>
                                </ul>
                            </li>

                            <li t-on-click="() => openIframeByType('route_optimization')">Route Optimization</li>
                        </ul>
                    </li>

                    <!-- Dispatch Management -->
                    <li>
                        <div class="submenu-header" t-on-click="() => toggleSubmenu('dispatch')">
                            Dispatch Management <t t-esc="getArrow('dispatch')"/>
                        </div>
                        <ul t-if="state.openMenu === 'dispatch'" class="submenu" style="margin-left:1rem;">
                            <li t-on-click="() => openIframeByType('trip_sheet')">Trip Sheet</li>
                            <li t-on-click="() => openIframeByType('route_dispatch')">Route Dispatch</li>
                            <li t-on-click="() => openIframeByType('lr')">Lorry Receipt (LR)</li>
                            <li t-on-click="() => openIframeByType('pod')">Proof of Delivery (POD)</li>
                            <li t-on-click="() => openIframeByType('ewaybill')">E-Way Bill</li>
                        </ul>
                    </li>
                </ul>
            </aside>

            <!-- Main Content -->
            <main class="lms-main" style="flex:1; padding:0;">
                <t t-if="state.iframeSrc">
                    <iframe t-att-src="state.iframeSrc" style="width:100%; height:100vh; border:0;" frameborder="0"/>
                </t>
                <t t-if="!state.iframeSrc">
                    <div style="padding:2rem;">
                        <h2>Welcome to Logistics Management Dashboard</h2>
                        <p>Select a module from the sidebar to begin.</p>
                    </div>
                </t>
            </main>
        </div>
    </t>
</templates>


<!-- <?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="lms.Dashboard" owl="1">
        <div class="lms-dashboard-container" style="display:flex; height:100vh;">

            <aside class="lms-sidebar" style="width:260px; background:#1e293b; color:white; padding:1rem; overflow-y:auto;">
                <div class="lms-logo" style="font-weight:bold; margin-bottom:1rem;">ðŸšš Logistics Management</div>
                <ul class="lms-menu" style="list-style:none; padding:0; margin:0;">

                    <li t-on-click="() => setActiveSection('lead')" t-att-class="{'active': state.tab === 'lead'}" style="padding:.5rem 0; cursor:pointer;">
                        Lead Management
                    </li>

                    <li t-on-click="() => setActiveSection('warehouse')" t-att-class="{'active': state.tab === 'warehouse'}" style="padding:.5rem 0; cursor:pointer;">
                        Warehouse Management
                    </li>

                    <li>
                        <div t-on-click="toggleSubMenu('dispatch')" style="padding:.5rem 0; cursor:pointer; display:flex; justify-content:space-between; align-items:center;">
                            <span>Dispatch Management</span>
                            <span t-esc="state.expanded.dispatch ? 'â–¾' : 'â–¸'"/>
                        </div>
                        <ul t-if="state.expanded.dispatch" style="list-style:none; padding-left:1rem; margin:0;">
                            <li t-on-click="() => setActiveSection('fleet')" style="padding:.3rem 0; cursor:pointer;">Fleet Management</li>
                            <li t-on-click="() => setActiveSection('routes')" style="padding:.3rem 0; cursor:pointer;">Route Optimization</li>
                            <li t-on-click="() => setActiveSection('ewaybill')" style="padding:.3rem 0; cursor:pointer;">E-Way Bill</li>
                            <li t-on-click="() => setActiveSection('pod')" style="padding:.3rem 0; cursor:pointer;">POD Tracking</li>
                        </ul>
                    </li>

                </ul>
            </aside>

            <main class="lms-main" style="flex:1; padding:1.5rem; background:#f8fafc;">
                <h2 t-esc="state.pageTitle" style="margin-bottom:1rem;"/>

                <t t-if="state.iframeSrc">
                    <div class="iframe-container" style="height:calc(100vh - 100px);">
                        <iframe t-att-src="state.iframeSrc" style="width:100%; height:100%; border:0;" frameborder="0"/>
                    </div>
                </t>

                <t t-if="!state.iframeSrc">
                    <p>Welcome! Please select a module from the sidebar.</p>
                </t>
            </main>

        </div>
    </t>
</templates> -->
